{% load static %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Library Card - {{ book.title }}</title>
    <link rel="stylesheet" href="{% static 'books/styles.css' %}" />
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="{% static 'books/images/favicon.png' %}">
    <link rel="shortcut icon" type="image/png" href="{% static 'books/images/favicon.png' %}">
    <link rel="apple-touch-icon" href="{% static 'books/images/favicon.png' %}">
  </head>
  <body class="print-card-body">
    <div class="print-card-container">
      <!-- Front of card -->
      <div class="print-card">
        <div class="print-card-inner">
          <div class="print-card-number">
            <span class="magic-{{ book.magic_category|lower }}">{{ book.call_number_magic }}</span>
            <span>{{ book.call_number_author }}</span>
            <span>{{ book.call_number_entry }}</span>
          </div>
          <div class="print-card-divider"></div>
          <div class="print-card-content">
            <div class="author">
              {% if book.author_anonymous %} Anonymous {% else %}
              <span>{{ book.author_display }}</span> {% endif %}
            </div>
            <hr class="print-card-hr" />
            <div class="title">{{ book.title }}</div>
            <div class="publisher">
              {{ book.publisher }}{% if book.city %}, {{ book.city }}
              <span>{% endif %}</span>
              {% if book.year %}, {{ book.year }}{% endif %}
            </div>
            {% if book.summary %}
            <div class="description">{{ book.summary|truncatewords:60 }}</div>
            {% endif %}
          </div>
        </div>
        <div class="print-card-dot"></div>
        <div class="print-card-decorator">
          <img
            src="{% if embedded_mode and decorator_base64 %}data:image/png;base64,{{ decorator_base64 }}{% else %}{% static 'books/images/GC_decoration.png' %}{% endif %}"
            alt="Decorative element"
          />
        </div>
        <div class="print-card-watermark">
          <img
            src="{% if embedded_mode and watermark_base64 %}data:image/png;base64,{{ watermark_base64 }}{% else %}{% static 'books/images/GCWatermark.png' %}{% endif %}"
            alt="GCL Logo"
          />
        </div>
      </div>
      <!-- Back of card -->
      <div class="print-card">
        <div class="print-card-inner">
          <div class="print-card-number">
            <span class="magic-{{ book.magic_category|lower }}">{{ book.call_number_magic }}</span>
            <span>{{ book.call_number_author }}</span>
            <span>{{ book.call_number_entry }}</span>
          </div>
          <div class="print-card-divider"></div>
          <div class="print-card-content notes-content">
            {% if book.notes %}
            <div class="print-card-notes-label">Notes:</div>
            <div class="print-card-notes-content">
              {{ book.notes|truncatewords:60|linebreaksbr }}
            </div>
            {% else %}
            <div class="print-card-notes-content">No additional notes.</div>
            {% endif %}
          </div>
        </div>
        <div class="print-card-dot"></div>
        <div class="print-card-decorator">
          <img
            src="{% if embedded_mode and decorator_base64 %}data:image/png;base64,{{ decorator_base64 }}{% else %}{% static 'books/images/GC_decoration.png' %}{% endif %}"
            alt="Decorative element"
          />
        </div>
        <div class="print-card-watermark">
          <img
            src="{% if embedded_mode and watermark_base64 %}data:image/png;base64,{{ watermark_base64 }}{% else %}{% static 'books/images/GCWatermark.png' %}{% endif %}"
            alt="GCL Logo"
          />
        </div>
      </div>
    </div>
  </body>
</html>
